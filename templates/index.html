{% extends "layout.html" %}
{% block body %}
<!-- Page Header -->
<header class="masthead" style="background-image: url('{{ url_for('static', filename= 'img/home-bg5.jpg')}}')">
  <div class="overlay"></div>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <div class="site-heading">
          <h1>{{params['blog_name']}}</h1>
          <span class="subheading">{{params['tag_line']}}</span>
        </div>
      </div>
    </div>
  </div>
</header>
<div class="container">
{% with messages =  get_flashed_messages() %}
    {% if messages[0] == "Logout" %}
    <div id="alert" class="alert alert-success d-flex align-items-center" role="alert">
        <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Success:"><use xlink:href="#check-circle-fill"/></svg>
        <div>
            &nbsp;You have been successfully Logged out of your account.
        </div>
      </div>
    {% endif %}

    {% if messages[0] == "account deleted" %}
    <div id="alert" class="alert alert-success d-flex align-items-center" role="alert">
        <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Success:"><use xlink:href="#check-circle-fill"/></svg>
        <div>
            &nbsp;Your account has been successfully deleted.
        </div>
      </div>
    {% endif %}
    {% endwith %}
  </div>  
  <div class="container">
    <h1 class="text-center">Posts</h1>
    <div class="text-center">
    </div>
  </div>
<!-- Main Content -->
<div class="container">
  <div class="row">
    <div class="col-lg-8 col-md-10 mx-auto">

      {% for post in posts %}
      <div class="post-preview">
        <a href="/post/{{post.slug}}">
          <h2 class="post-title">
            {{post.title}}
          </h2>
          <h3 class="post-subtitle">
            {{post.subtitle}}
          </h3>

          <p class="post-meta">Posted by
            <a href="/user-profile-view/{{post.author}}">{{post.author}}</a>
            on {{post.date}}</p>
      </div>
      <p>{{post.content[0:100]}}.........</p>
      <hr>
      </a>
      </li>
      {% endfor %}
      <!-- Pager -->
      <div class="clearfix">
        <a class="btn btn-primary float-left" href="{{prev}}">&larr;Previous </a>  
        
        <a class="btn btn-primary float-right" href="{{next}}">Next &rarr;</a>
      </div>
      
    
    </div>
  </div>
</div>

<script type="text/javascript">
  setTimeout(function () {
      $('#alert').alert('close');
  }, 2500);
</script>

{% endblock %}